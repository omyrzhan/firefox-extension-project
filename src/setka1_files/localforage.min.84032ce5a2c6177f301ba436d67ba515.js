/*!
    localForage -- Offline Storage, Improved
    Version 1.4.3
    https://mozilla.github.io/localForage
    (c) 2013-2016 Mozilla, Apache License 2.0
*/function _type_of(obj){"@swc/helpers - typeof";return obj&&typeof Symbol!=="undefined"&&obj.constructor===Symbol?"symbol":typeof obj}!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.localforage=a()}}(function(){return(function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var _$c=b[g][1][a];return e(_$c?_$c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e})({1:[function(a,b,c){(function(a){"use strict";function c(){k=!0;for(var _$a,_$b,_$c=l.length;_$c;){for(_$b=l,l=[],_$a=-1;++_$a<_$c;)_$b[_$a]();_$c=l.length}k=!1}function d(a){1!==l.push(a)||k||e()}var e,f=a.MutationObserver||a.WebKitMutationObserver;if(f){var g=0,h=new f(c),i=a.document.createTextNode("");h.observe(i,{characterData:!0}),e=function e(){i.data=g=++g%2}}else if(a.setImmediate||"undefined"==typeof a.MessageChannel)e="document"in a&&"onreadystatechange"in a.document.createElement("script")?function e(){var _$b=a.document.createElement("script");_$b.onreadystatechange=function(){c(),_$b.onreadystatechange=null,_$b.parentNode.removeChild(_$b),_$b=null},a.document.documentElement.appendChild(_$b)}:function(){setTimeout(c,0)};else{var j=new a.MessageChannel;j.port1.onmessage=c,e=function e(){j.port2.postMessage(0)}}var k,l=[];b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,c){"use strict";function d(){}function e(a){if("function"!=typeof a)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,a!==d&&i(this,a)}function f(a,b,c){this.promise=a,"function"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),"function"==typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function g(a,b,c){o(function(){var d;try{d=b(c)}catch(b){return p.reject(a,b)}d===a?p.reject(a,new TypeError("Cannot resolve promise with itself")):p.resolve(a,d)})}function h(a){var _$b=a&&a.then;if(a&&"object"==typeof a&&"function"==typeof _$b)return function(){_$b.apply(a,arguments)}}function i(a,b){function c(b){_$f||(_$f=!0,p.reject(a,b))}function d(b){_$f||(_$f=!0,p.resolve(a,b))}function e(){b(d,c)}var _$f=!1,g=j(e);"error"===g.status&&c(g.value)}function j(a,b){var _$c={};try{_$c.value=a(b),_$c.status="success"}catch(a){_$c.status="error",_$c.value=a}return _$c}function k(a){return a instanceof this?a:p.resolve(new this(d),a)}function l(a){var _$b=new this(d);return p.reject(_$b,a)}function m(a){function b(a,b){function d(a){g[b]=a,++h!==_$e||_$f||(_$f=!0,p.resolve(j,g))}_$c.resolve(a).then(d,function(a){_$f||(_$f=!0,p.reject(j,a))})}var _$c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var _$e=a.length,_$f=!1;if(!_$e)return this.resolve([]);for(var g=new Array(_$e),h=0,i=-1,j=new this(d);++i<_$e;)b(a[i],i);return j}function n(a){function b(a){_$c.resolve(a).then(function(a){_$f||(_$f=!0,p.resolve(h,a))},function(a){_$f||(_$f=!0,p.reject(h,a))})}var _$c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var _$e=a.length,_$f=!1;if(!_$e)return this.resolve([]);for(var g=-1,h=new this(d);++g<_$e;)b(a[g]);return h}var o=a(1),p={},q=["REJECTED"],r=["FULFILLED"],s=["PENDING"];b.exports=c=e,e.prototype.catch=function(a){return this.then(null,a)},e.prototype.then=function(a,b){if("function"!=typeof a&&this.state===r||"function"!=typeof b&&this.state===q)return this;var _$c=new this.constructor(d);if(this.state!==s){var _$e=this.state===r?a:b;g(_$c,_$e,this.outcome)}else this.queue.push(new f(_$c,a,b));return _$c},f.prototype.callFulfilled=function(a){p.resolve(this.promise,a)},f.prototype.otherCallFulfilled=function(a){g(this.promise,this.onFulfilled,a)},f.prototype.callRejected=function(a){p.reject(this.promise,a)},f.prototype.otherCallRejected=function(a){g(this.promise,this.onRejected,a)},p.resolve=function(a,b){var _$c=j(h,b);if("error"===_$c.status)return p.reject(a,_$c.value);var d=_$c.value;if(d)i(a,d);else{a.state=r,a.outcome=b;for(var _$e=-1,_$f=a.queue.length;++_$e<_$f;)a.queue[_$e].callFulfilled(b)}return a},p.reject=function(a,b){a.state=q,a.outcome=b;for(var _$c=-1,d=a.queue.length;++_$c<d;)a.queue[_$c].callRejected(b);return a},c.resolve=k,c.reject=l,c.all=m,c.race=n},{1:1}],3:[function(a,b,c){(function(b){"use strict";"function"!=typeof b.Promise&&(b.Promise=a(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(a){}}function f(){try{return!!fa&&!("undefined"!=typeof openDatabase&&"undefined"!=typeof navigator&&navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))&&fa&&"function"==typeof fa.open&&"undefined"!=typeof IDBKeyRange}catch(a){return!1}}function g(){return"function"==typeof openDatabase}function h(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(a){return!1}}function i(a,b){a=a||[],b=b||{};try{return new Blob(a,b)}catch(f){if("TypeError"!==f.name)throw f;for(var c="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,d=new c,_$e=0;_$e<a.length;_$e+=1)d.append(a[_$e]);return d.getBlob(b.type)}}function j(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function k(a,b,c){"function"==typeof b&&a.then(b),"function"==typeof c&&a.catch(c)}function l(a){for(var _$b=a.length,c=new ArrayBuffer(_$b),d=new Uint8Array(c),_$e=0;_$e<_$b;_$e++)d[_$e]=a.charCodeAt(_$e);return c}function m(a){return new ia(function(b){var c=i([""]);a.objectStore(ja).put(c,"key"),a.onabort=function(a){a.preventDefault(),a.stopPropagation(),b(!1)},a.oncomplete=function(){var _$a=navigator.userAgent.match(/Chrome\/(\d+)/),c=navigator.userAgent.match(/Edge\//);b(c||!_$a||parseInt(_$a[1],10)>=43)}}).catch(function(){return!1})}function n(a){return"boolean"==typeof ga?ia.resolve(ga):m(a).then(function(a){return ga=a})}function o(a){var _$b=ha[a.name],c={};c.promise=new ia(function(a){c.resolve=a}),_$b.deferredOperations.push(c),_$b.dbReady?_$b.dbReady=_$b.dbReady.then(function(){return c.promise}):_$b.dbReady=c.promise}function p(a){var _$b=ha[a.name],c=_$b.deferredOperations.pop();c&&c.resolve()}function q(a,b){return new ia(function(c,d){if(a.db){if(!b)return c(a.db);o(a),a.db.close()}var _$e=[a.name];b&&_$e.push(a.version);var _$f=fa.open.apply(fa,_$e);b&&(_$f.onupgradeneeded=function(b){var _$c=_$f.result;try{_$c.createObjectStore(a.storeName),b.oldVersion<=1&&_$c.createObjectStore(ja)}catch(c){if("ConstraintError"!==c.name)throw c;console.warn('The database "'+a.name+'" has been upgraded from version '+b.oldVersion+" to version "+b.newVersion+', but the storage "'+a.storeName+'" already exists.')}}),_$f.onerror=function(){d(_$f.error)},_$f.onsuccess=function(){c(_$f.result),p(a)}})}function r(a){return q(a,!1)}function s(a){return q(a,!0)}function t(a,b){if(!a.db)return!0;var c=!a.db.objectStoreNames.contains(a.storeName),d=a.version<a.db.version,_$e=a.version>a.db.version;if(d&&(a.version!==b&&console.warn('The database "'+a.name+"\" can't be downgraded from version "+a.db.version+" to version "+a.version+"."),a.version=a.db.version),_$e||c){if(c){var _$f=a.db.version+1;_$f>a.version&&(a.version=_$f)}return!0}return!1}function u(a){return new ia(function(b,c){var d=new FileReader;d.onerror=c,d.onloadend=function(c){var d=btoa(c.target.result||"");b({__local_forage_encoded_blob:!0,data:d,type:a.type})},d.readAsBinaryString(a)})}function v(a){var _$b=l(atob(a.data));return i([_$b],{type:a.type})}function w(a){return a&&a.__local_forage_encoded_blob}function x(a){var _$b=this,c=_$b._initReady().then(function(){var _$a=ha[_$b._dbInfo.name];if(_$a&&_$a.dbReady)return _$a.dbReady});return k(c,a,a),c}function y(a){function b(){return ia.resolve()}var c=this,d={db:null};if(a)for(var _$e in a)d[_$e]=a[_$e];ha||(ha={});var _$f=ha[d.name];_$f||(_$f={forages:[],db:null,dbReady:null,deferredOperations:[]},ha[d.name]=_$f),_$f.forages.push(c),c._initReady||(c._initReady=c.ready,c.ready=x);for(var _$g=[],_$h=0;_$h<_$f.forages.length;_$h++){var i=_$f.forages[_$h];i!==c&&_$g.push(i._initReady().catch(b))}var j=_$f.forages.slice(0);return ia.all(_$g).then(function(){return d.db=_$f.db,r(d)}).then(function(a){return d.db=a,t(d,c._defaultConfig.version)?s(d):a}).then(function(a){d.db=_$f.db=a,c._dbInfo=d;for(var _$b=0;_$b<j.length;_$b++){var _$e=j[_$b];_$e!==c&&(_$e._dbInfo.db=d.db,_$e._dbInfo.version=d.version)}})}function z(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var _$e=c._dbInfo,_$f=_$e.db.transaction(_$e.storeName,"readonly").objectStore(_$e.storeName),_$g=_$f.get(a);_$g.onsuccess=function(){var _$a=_$g.result;void 0===_$a&&(_$a=null),w(_$a)&&(_$a=v(_$a)),b(_$a)},_$g.onerror=function(){d(_$g.error)}}).catch(d)});return j(d,b),d}function A(a,b){var c=this,d=new ia(function(b,d){c.ready().then(function(){var _$e=c._dbInfo,_$f=_$e.db.transaction(_$e.storeName,"readonly").objectStore(_$e.storeName),_$g=_$f.openCursor(),_$h=1;_$g.onsuccess=function(){var c=_$g.result;if(c){var _$d=c.value;w(_$d)&&(_$d=v(_$d));var _$e=a(_$d,c.key,_$h++);void 0!==_$e?b(_$e):c.continue()}else b()},_$g.onerror=function(){d(_$g.error)}}).catch(d)});return j(d,b),d}function B(a,b,c){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var _$e=new ia(function(c,e){var _$f;d.ready().then(function(){return _$f=d._dbInfo,"[object Blob]"===ka.call(b)?n(_$f.db).then(function(a){return a?b:u(b)}):b}).then(function(b){var d=_$f.db.transaction(_$f.storeName,"readwrite"),_$g=d.objectStore(_$f.storeName),_$h=_$g.put(b,a);null===b&&(b=void 0),d.oncomplete=function(){void 0===b&&(b=null),c(b)},d.onabort=d.onerror=function(){var _$a=_$h.error?_$h.error:_$h.transaction.error;e(_$a)}}).catch(e)});return j(_$e,c),_$e}function C(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var _$e=c._dbInfo,_$f=_$e.db.transaction(_$e.storeName,"readwrite"),_$g=_$f.objectStore(_$e.storeName),_$h=_$g.delete(a);_$f.oncomplete=function(){b()},_$f.onerror=function(){d(_$h.error)},_$f.onabort=function(){var _$a=_$h.error?_$h.error:_$h.transaction.error;d(_$a)}}).catch(d)});return j(d,b),d}function D(a){var _$b=this,c=new ia(function(a,c){_$b.ready().then(function(){var d=_$b._dbInfo,_$e=d.db.transaction(d.storeName,"readwrite"),_$f=_$e.objectStore(d.storeName),_$g=_$f.clear();_$e.oncomplete=function(){a()},_$e.onabort=_$e.onerror=function(){var _$a=_$g.error?_$g.error:_$g.transaction.error;c(_$a)}}).catch(c)});return j(c,a),c}function E(a){var _$b=this,c=new ia(function(a,c){_$b.ready().then(function(){var d=_$b._dbInfo,_$e=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName),_$f=_$e.count();_$f.onsuccess=function(){a(_$f.result)},_$f.onerror=function(){c(_$f.error)}}).catch(c)});return j(c,a),c}function F(a,b){var c=this,d=new ia(function(b,d){return a<0?void b(null):void c.ready().then(function(){var _$e=c._dbInfo,_$f=_$e.db.transaction(_$e.storeName,"readonly").objectStore(_$e.storeName),_$g=!1,_$h=_$f.openCursor();_$h.onsuccess=function(){var c=_$h.result;return c?void(0===a?b(c.key):_$g?b(c.key):(_$g=!0,c.advance(a))):void b(null)},_$h.onerror=function(){d(_$h.error)}}).catch(d)});return j(d,b),d}function G(a){var _$b=this,c=new ia(function(a,c){_$b.ready().then(function(){var d=_$b._dbInfo,_$e=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName),_$f=_$e.openCursor(),_$g=[];_$f.onsuccess=function(){var _$b=_$f.result;return _$b?(_$g.push(_$b.key),void _$b.continue()):void a(_$g)},_$f.onerror=function(){c(_$f.error)}}).catch(c)});return j(c,a),c}function H(a){var _$b,c,d,_$e,_$f,_$g=.75*a.length,_$h=a.length,i=0;"="===a[a.length-1]&&(_$g--,"="===a[a.length-2]&&_$g--);var j=new ArrayBuffer(_$g),k=new Uint8Array(j);for(_$b=0;_$b<_$h;_$b+=4)c=ma.indexOf(a[_$b]),d=ma.indexOf(a[_$b+1]),_$e=ma.indexOf(a[_$b+2]),_$f=ma.indexOf(a[_$b+3]),k[i++]=c<<2|d>>4,k[i++]=(15&d)<<4|_$e>>2,k[i++]=(3&_$e)<<6|63&_$f;return j}function I(a){var _$b,c=new Uint8Array(a),d="";for(_$b=0;_$b<c.length;_$b+=3)d+=ma[c[_$b]>>2],d+=ma[(3&c[_$b])<<4|c[_$b+1]>>4],d+=ma[(15&c[_$b+1])<<2|c[_$b+2]>>6],d+=ma[63&c[_$b+2]];return c.length%3===2?d=d.substring(0,d.length-1)+"=":c.length%3===1&&(d=d.substring(0,d.length-2)+"=="),d}function J(a,b){var _$c="";if(a&&(_$c=Da.call(a)),a&&("[object ArrayBuffer]"===_$c||a.buffer&&"[object ArrayBuffer]"===Da.call(a.buffer))){var d,_$e=pa;a instanceof ArrayBuffer?(d=a,_$e+=ra):(d=a.buffer,"[object Int8Array]"===_$c?_$e+=ta:"[object Uint8Array]"===_$c?_$e+=ua:"[object Uint8ClampedArray]"===_$c?_$e+=va:"[object Int16Array]"===_$c?_$e+=wa:"[object Uint16Array]"===_$c?_$e+=ya:"[object Int32Array]"===_$c?_$e+=xa:"[object Uint32Array]"===_$c?_$e+=za:"[object Float32Array]"===_$c?_$e+=Aa:"[object Float64Array]"===_$c?_$e+=Ba:b(new Error("Failed to get type for BinaryArray"))),b(_$e+I(d))}else if("[object Blob]"===_$c){var _$f=new FileReader;_$f.onload=function(){var _$c=na+a.type+"~"+I(this.result);b(pa+sa+_$c)},_$f.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(c){console.error("Couldn't convert value into a JSON string: ",a),b(null,c)}}function K(a){if(a.substring(0,qa)!==pa)return JSON.parse(a);var _$b,c=a.substring(Ca),d=a.substring(qa,Ca);if(d===sa&&oa.test(c)){var _$e=c.match(oa);_$b=_$e[1],c=c.substring(_$e[0].length)}var _$f=H(c);switch(d){case ra:return _$f;case sa:return i([_$f],{type:_$b});case ta:return new Int8Array(_$f);case ua:return new Uint8Array(_$f);case va:return new Uint8ClampedArray(_$f);case wa:return new Int16Array(_$f);case ya:return new Uint16Array(_$f);case xa:return new Int32Array(_$f);case za:return new Uint32Array(_$f);case Aa:return new Float32Array(_$f);case Ba:return new Float64Array(_$f);default:throw new Error("Unkown type: "+d)}}function L(a){var _$b=this,c={db:null};if(a)for(var d in a)c[d]="string"!=typeof a[d]?a[d].toString():a[d];var _$e=new ia(function(a,d){try{c.db=openDatabase(c.name,String(c.version),c.description,c.size)}catch(a){return d(a)}c.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+c.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){_$b._dbInfo=c,a()},function(a,b){d(b)})})});return c.serializer=Ea,_$e}function M(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var _$e=c._dbInfo;_$e.db.transaction(function(c){c.executeSql("SELECT * FROM "+_$e.storeName+" WHERE key = ? LIMIT 1",[a],function(a,c){var _$d=c.rows.length?c.rows.item(0).value:null;_$d&&(_$d=_$e.serializer.deserialize(_$d)),b(_$d)},function(a,b){d(b)})})}).catch(d)});return j(d,b),d}function N(a,b){var c=this,d=new ia(function(b,d){c.ready().then(function(){var _$e=c._dbInfo;_$e.db.transaction(function(c){c.executeSql("SELECT * FROM "+_$e.storeName,[],function(c,d){for(var _$f=d.rows,_$g=_$f.length,_$h=0;_$h<_$g;_$h++){var i=_$f.item(_$h),_$j=i.value;if(_$j&&(_$j=_$e.serializer.deserialize(_$j)),_$j=a(_$j,i.key,_$h+1),void 0!==_$j)return void b(_$j)}b()},function(a,b){d(b)})})}).catch(d)});return j(d,b),d}function O(a,b,c){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var _$e=new ia(function(c,e){d.ready().then(function(){void 0===b&&(b=null);var _$f=b,_$g=d._dbInfo;_$g.serializer.serialize(b,function(b,d){d?e(d):_$g.db.transaction(function(d){d.executeSql("INSERT OR REPLACE INTO "+_$g.storeName+" (key, value) VALUES (?, ?)",[a,b],function(){c(_$f)},function(a,b){e(b)})},function(a){a.code===a.QUOTA_ERR&&e(a)})})}).catch(e)});return j(_$e,c),_$e}function P(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var _$e=c._dbInfo;_$e.db.transaction(function(c){c.executeSql("DELETE FROM "+_$e.storeName+" WHERE key = ?",[a],function(){b()},function(a,b){d(b)})})}).catch(d)});return j(d,b),d}function Q(a){var _$b=this,c=new ia(function(a,c){_$b.ready().then(function(){var d=_$b._dbInfo;d.db.transaction(function(b){b.executeSql("DELETE FROM "+d.storeName,[],function(){a()},function(a,b){c(b)})})}).catch(c)});return j(c,a),c}function R(a){var _$b=this,c=new ia(function(a,c){_$b.ready().then(function(){var d=_$b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT COUNT(key) as c FROM "+d.storeName,[],function(b,c){var d=c.rows.item(0).c;a(d)},function(a,b){c(b)})})}).catch(c)});return j(c,a),c}function S(a,b){var c=this,d=new ia(function(b,d){c.ready().then(function(){var _$e=c._dbInfo;_$e.db.transaction(function(c){c.executeSql("SELECT key FROM "+_$e.storeName+" WHERE id = ? LIMIT 1",[a+1],function(a,c){var _$d=c.rows.length?c.rows.item(0).key:null;b(_$d)},function(a,b){d(b)})})}).catch(d)});return j(d,b),d}function T(a){var _$b=this,c=new ia(function(a,c){_$b.ready().then(function(){var d=_$b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT key FROM "+d.storeName,[],function(b,c){for(var d=[],_$e=0;_$e<c.rows.length;_$e++)d.push(c.rows.item(_$e).key);a(d)},function(a,b){c(b)})})}).catch(c)});return j(c,a),c}function U(a){var _$b=this,c={};if(a)for(var d in a)c[d]=a[d];return c.keyPrefix=c.name+"/",c.storeName!==_$b._defaultConfig.storeName&&(c.keyPrefix+=c.storeName+"/"),_$b._dbInfo=c,c.serializer=Ea,ia.resolve()}function V(a){var _$b=this,c=_$b.ready().then(function(){for(var _$a=_$b._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var d=localStorage.key(c);0===d.indexOf(_$a)&&localStorage.removeItem(d)}});return j(c,a),c}function W(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=c.ready().then(function(){var _$b=c._dbInfo,d=localStorage.getItem(_$b.keyPrefix+a);return d&&(d=_$b.serializer.deserialize(d)),d});return j(d,b),d}function X(a,b){var c=this,d=c.ready().then(function(){for(var _$b=c._dbInfo,d=_$b.keyPrefix,_$e=d.length,_$f=localStorage.length,_$g=1,_$h=0;_$h<_$f;_$h++){var i=localStorage.key(_$h);if(0===i.indexOf(d)){var _$j=localStorage.getItem(i);if(_$j&&(_$j=_$b.serializer.deserialize(_$j)),_$j=a(_$j,i.substring(_$e),_$g++),void 0!==_$j)return _$j}}});return j(d,b),d}function Y(a,b){var c=this,d=c.ready().then(function(){var _$b,d=c._dbInfo;try{_$b=localStorage.key(a)}catch(a){_$b=null}return _$b&&(_$b=_$b.substring(d.keyPrefix.length)),_$b});return j(d,b),d}function Z(a){var _$b=this,c=_$b.ready().then(function(){for(var _$a=_$b._dbInfo,c=localStorage.length,d=[],_$e=0;_$e<c;_$e++)0===localStorage.key(_$e).indexOf(_$a.keyPrefix)&&d.push(localStorage.key(_$e).substring(_$a.keyPrefix.length));return d});return j(c,a),c}function $(a){var _$b=this,c=_$b.keys().then(function(a){return a.length});return j(c,a),c}function _(a,b){var c=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=c.ready().then(function(){var _$b=c._dbInfo;localStorage.removeItem(_$b.keyPrefix+a)});return j(d,b),d}function aa(a,b,c){var d=this;"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a));var _$e=d.ready().then(function(){void 0===b&&(b=null);var _$c=b;return new ia(function(e,f){var _$g=d._dbInfo;_$g.serializer.serialize(b,function(b,d){if(d)f(d);else try{localStorage.setItem(_$g.keyPrefix+a,b),e(_$c)}catch(a){"QuotaExceededError"!==a.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==a.name||f(a),f(a)}})})});return j(_$e,c),_$e}function ba(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function ca(){for(var _$a=1;_$a<arguments.length;_$a++){var _$b=arguments[_$a];if(_$b)for(var c in _$b)_$b.hasOwnProperty(c)&&(Na(_$b[c])?arguments[0][c]=_$b[c].slice():arguments[0][c]=_$b[c])}return arguments[0]}function da(a){for(var _$b in Ia)if(Ia.hasOwnProperty(_$b)&&Ia[_$b]===a)return!0;return!1}var ea="function"==typeof Symbol&&"symbol"==_type_of(Symbol.iterator)?function ea(a){return typeof a==="undefined"?"undefined":_type_of(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a==="undefined"?"undefined":_type_of(a)},fa=e();"undefined"==typeof Promise&&"undefined"!=typeof a&&a(3);var ga,ha,ia=Promise,ja="local-forage-detect-blob-support",ka=Object.prototype.toString,la={_driver:"asyncStorage",_initStorage:y,iterate:A,getItem:z,setItem:B,removeItem:C,clear:D,length:E,key:F,keys:G},ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",na="~~local_forage_type~",oa=/^~~local_forage_type~([^~]+)~/,pa="__lfsc__:",qa=pa.length,ra="arbf",sa="blob",ta="si08",ua="ui08",va="uic8",wa="si16",xa="si32",ya="ur16",za="ui32",Aa="fl32",Ba="fl64",Ca=qa+ra.length,Da=Object.prototype.toString,Ea={serialize:J,deserialize:K,stringToBuffer:H,bufferToString:I},Fa={_driver:"webSQLStorage",_initStorage:L,iterate:N,getItem:M,setItem:O,removeItem:P,clear:Q,length:R,key:S,keys:T},Ga={_driver:"localStorageWrapper",_initStorage:U,iterate:X,getItem:W,setItem:aa,removeItem:_,clear:V,length:$,key:Y,keys:Z},Ha={},Ia={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Ja=[Ia.INDEXEDDB,Ia.WEBSQL,Ia.LOCALSTORAGE],Ka=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],La={description:"",driver:Ja.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},Ma={};Ma[Ia.INDEXEDDB]=f(),Ma[Ia.WEBSQL]=g(),Ma[Ia.LOCALSTORAGE]=h();var Na=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},Oa=function(){function a(b){d(this,a),this.INDEXEDDB=Ia.INDEXEDDB,this.LOCALSTORAGE=Ia.LOCALSTORAGE,this.WEBSQL=Ia.WEBSQL,this._defaultConfig=ca({},La),this._config=ca({},this._defaultConfig,b),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return a.prototype.config=function(a){if("object"===("undefined"==typeof a?"undefined":ea(a))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var _$b in a)"storeName"===_$b&&(a[_$b]=a[_$b].replace(/\W/g,"_")),this._config[_$b]=a[_$b];return"driver"in a&&a.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof a?this._config[a]:this._config},a.prototype.defineDriver=function(a,b,c){var d=new ia(function(b,c){try{var d=a._driver,_$e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),_$f=new Error("Custom driver name already in use: "+a._driver);if(!a._driver)return void c(_$e);if(da(a._driver))return void c(_$f);for(var _$g=Ka.concat("_initStorage"),_$h=0;_$h<_$g.length;_$h++){var i=_$g[_$h];if(!i||!a[i]||"function"!=typeof a[i])return void c(_$e)}var j=ia.resolve(!0);"_support"in a&&(j=a._support&&"function"==typeof a._support?a._support():ia.resolve(!!a._support)),j.then(function(c){Ma[d]=c,Ha[d]=a,b()},c)}catch(a){c(a)}});return k(d,b,c),d},a.prototype.driver=function(){return this._driver||null},a.prototype.getDriver=function(a,b,c){var d=this,_$e=ia.resolve().then(function(){if(!da(a)){if(Ha[a])return Ha[a];throw new Error("Driver not found.")}switch(a){case d.INDEXEDDB:return la;case d.LOCALSTORAGE:return Ga;case d.WEBSQL:return Fa}});return k(_$e,b,c),_$e},a.prototype.getSerializer=function(a){var _$b=ia.resolve(Ea);return k(_$b,a),_$b},a.prototype.ready=function(a){var _$b=this,c=_$b._driverSet.then(function(){return null===_$b._ready&&(_$b._ready=_$b._initDriver()),_$b._ready});return k(c,a,a),c},a.prototype.setDriver=function(a,b,c){function d(){_$g._config.driver=_$g.driver()}function e(a){return _$g._extend(a),d(),_$g._ready=_$g._initStorage(_$g._config),_$g._ready}function f(a){return function(){function b(){for(;_$c<a.length;){var _$f=a[_$c];return _$c++,_$g._dbInfo=null,_$g._ready=null,_$g.getDriver(_$f).then(e).catch(b)}d();var _$h=new Error("No available storage method found.");return _$g._driverSet=ia.reject(_$h),_$g._driverSet}var _$c=0;return b()}}var _$g=this;Na(a)||(a=[a]);var _$h=this._getSupportedDrivers(a),i=null!==this._driverSet?this._driverSet.catch(function(){return ia.resolve()}):ia.resolve();return this._driverSet=i.then(function(){var _$a=_$h[0];return _$g._dbInfo=null,_$g._ready=null,_$g.getDriver(_$a).then(function(a){_$g._driver=a._driver,d(),_$g._wrapLibraryMethodsWithReady(),_$g._initDriver=f(_$h)})}).catch(function(){d();var _$a=new Error("No available storage method found.");return _$g._driverSet=ia.reject(_$a),_$g._driverSet}),k(this._driverSet,b,c),this._driverSet},a.prototype.supports=function(a){return!!Ma[a]},a.prototype._extend=function(a){ca(this,a)},a.prototype._getSupportedDrivers=function(a){for(var _$b=[],c=0,d=a.length;c<d;c++){var _$e=a[c];this.supports(_$e)&&_$b.push(_$e)}return _$b},a.prototype._wrapLibraryMethodsWithReady=function(){for(var _$a=0;_$a<Ka.length;_$a++)ba(this,Ka[_$a])},a.prototype.createInstance=function(b){return new a(b)},a}(),Pa=new Oa;b.exports=Pa},{3:3}]},{},[4])(4)});